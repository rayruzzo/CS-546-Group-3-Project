/* FORM */
.form-container {
   display: flex;
   flex-direction: column;
   max-width: 20rem;
   padding: 2rem 1rem;
   background-color: var(--bg-secondary-color);
   border: var(--border-primary);
   border-radius: var(--border-radius-small);
}

.form-container > :not(:last-child) {
   margin-bottom: 1rem;
}



/* INPUT MESSAGE */
.input-message {
   display: block;
   min-height: 1.2rem;
   width: fit-content;
   padding: 0.2rem 0.6rem;
   /* background-color: var(--bg-color); */
   color: var(--fg-color);
   /* border: var(--border-primary); */
   border-radius: var(--border-radius-small);
}

.input-error {
   color: var(--warning-color);
}



/* IMAGE */
.avatar-container {
   --avatar-max-dimensions: 200px;
   --avatar-max-icon-size: calc(var(--avatar-max-dimensions) / 1.2);

   position: relative;
   display: flex;
   justify-content: center;
   align-items: center;
   max-width: var(--avatar-max-dimensions);
   max-height: var(--avatar-max-dimensions);

   /* scale icon font-size with viewport AND container dimensions */
   font-size: clamp(1em, calc(6vw * 13), var(--avatar-max-icon-size));

   background-color: var(--bg-secondary-color);
   border: var(--border-primary);
   border-radius: var(--border-radius-large);
   overflow: hidden;
   margin-bottom: 0.5rem;
}

.avatar-container--small {          /* modifies base avatar-container */
   --avatar-max-dimensions: 50px;
}

.avatar-container .no-avatar {
   position: absolute;
}

.avatar-container .no-avatar::after {
   content: "◌";
   font-size: inherit;
   display: block;
   color: var(--fg-color);
}

.image-square {
   position: relative;
   display: flex;
   width: 100%;
   height: 100%;
   /* padding-top: 100%; */
   aspect-ratio: 1;
   /* overflow: hidden; */
   justify-content: center;
   align-items: center;
}

.image-square img {
   position: absolute;
   bottom: 0;
   left: 0;
   right: 0;
   top: 0;
   height: 100%;
   object-fit: cover;
   max-width: 100%;     /* stretches to size of parent (keeps aspect ratio) */
}

/* ^^^ allows repositioning of avatar inside form */
#avatarUploader #avatarPreview {
   max-width: none;
}

.image-square img[src]:not([src=""]) {
   -webkit-user-select: none;
   user-select: none;
   /* touch-action: none; */
   cursor: grab;
}



/* LOADER */
.spinner {
   position: absolute;
}

.spinner::after {
   content: "✾";
   transform-origin: 50% 41.5%;
   font-size: 4rem;
   display: block;
   color: var(--fg-color);
   animation: animate-spinner infinite 3s linear;
}



/* ERRORS */
.error-container {
   position: relative;
   max-width: 40rem;
   margin: 10rem auto;
}

.error-contents {
   position: relative;
   max-width: inherit;
   min-height: 20rem;
   padding: 2rem 0.8rem;
   margin: 1.5rem;
   display: flex;
   flex-direction: column;
   justify-content: center;
   background-color: var(--bg-secondary-color);
   border: var(--border-primary);
   border-radius: var(--border-radius-large);
}

.error-contents > * {
   text-align: center;
}

.error-contents :last-child {
   margin-top: auto;
}

.error-contents h1 {
   font-size: var(--size-step-3);
   font-weight: var(--font-weight-bolder);
   line-height: var(--line-height-tight);
}

.error-contents h2 {
   font-size: var(--size-step-2);
   font-weight: var(--font-weight-bolder);
   line-height: var(--line-height-loose);
}

.error-contents > .error-code {
   position: absolute;
   left: -20px;
   top: -20px;
   padding: 0.5rem 0.8rem;
   margin: 0;
   background-color: inherit;
   border: var(--border-primary);
   border-radius: var(--border-radius-large);
   font-size: 2em;
   font-weight: 100;
}

.error-contents > .error-message-extended {
   margin-bottom: 3rem;
   word-break: break-word;
}



/* BUTTONS */
button, ::file-selector-button {
   padding: 0.35rem 0.6rem;
   margin-right: 1rem;
   background-color: var(--bg-tertiary-color);
   background-color: unset;
   color: var(--fg-color);
   border-radius: var(--border-radius-small);
   border: var(--border-primary);
   font-size: var(--size-step-0);
   font-weight: 500;
}

button.btn-warning {
   background-color: var(--bg-warning-color);
   color: var(--warning-color);
}



/* LINKS */
.link-medium {
   display: inline-block;
   padding: 0.2rem 0.5rem;
   font-size: 1.3rem;
   color: var(--fg-color);
   text-decoration: solid var(--color-clear) 2px underline;
   text-underline-offset: 5px;
   transition: 0.1s text-decoration ease-in-out;
}

.link-medium::after {
   content: "↺";
   display: inline-block;
   margin-left: 0.5rem;
   transition: 0.1s transform ease-in-out;
}

.link-medium:hover {
   text-decoration: solid var(--fg-color) 2px underline;
}

.link-medium:hover::after {
   transform: rotate(-20deg);
}

/* REPORTING */
.report-form {
   margin-left: auto;
}

.report-link::before {
  content: "⚠ ";
  opacity: 0.6;
}

.report-link {
   background: none;
   border: none;
   padding: 0;
   font-size: 0.85rem;
   color: var(--color-muted, #888);
   cursor: pointer;
}

.report-link:hover {
   color: var(--warning-color);
   text-decoration: underline;
}
.post-reported-status::before {
  content: "⚠ ";
  opacity: 0.6;
}

.post-reported-status {
  font-size: 0.85rem;
  color: var(--color-muted, #888);
  opacity: 0.7;
  cursor: default;
}

/* ================================
   Moderator Dashboard
================================ */

.moderator-description {
  margin-bottom: 1rem;
  color: var(--color-muted, #777);
}

.moderator-empty {
  margin-top: 2rem;
  font-style: italic;
  color: var(--color-muted, #777);
}

/* Action button container */
.moderator-actions {
  display: flex;
  gap: 0.75rem;
  flex-wrap: wrap;
  margin-top: 0.75rem;
}

/* Prevent form layout issues */
.moderator-actions form {
  display: inline;
}

/* Button styles aligned with project */
.btn-secondary {
  background-color: var(--bg-secondary-color);
  color: var(--fg-color);
}

.btn-danger {
  background-color: var(--bg-warning-color);
  color: var(--warning-color);
  border-color: var(--warning-color);
}

/* Hover polish */
.moderator-actions button:hover {
  cursor: pointer;
  opacity: 0.9;
}
